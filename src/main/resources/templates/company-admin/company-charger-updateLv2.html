<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>기업 - 충전소 수정</title>
    <link rel="shortcut icon" href="https://wabiz-static-dev.s3.ap-northeast-2.amazonaws.com/static/favicon/favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="/css/common/font.css" />
    <link rel="stylesheet" href="/css/common/reset.css" />
    <link rel="stylesheet" href="/css/common/common.css">
    <link rel="stylesheet" href="/css/common/fontawesome.css">
    <link rel="stylesheet" href="/css/common/util.css" />
    <link rel="stylesheet" href="/css/company-admin/company-utill.css">
    <link rel="stylesheet" href="/css/company-admin/company-charger-create.css" />
    <link type="text/css" th:href="@{/css/company-admin/top.css}" rel="stylesheet" />
    <link type="text/css" th:href="@{/css/company-admin/menu-flex.css}" rel="stylesheet" />
</head>

<body>
<div th:replace="/company-admin/top::top" style="margin-bottom: 20px;"></div>

<main role="main">
    <div class="container flex-1 quiry-contents-box" id="page-container">
        <div class="row">
            <div class="lg:col-9">

                <!-- 헤더 -->
                <header class="mb-5 header-style page-title">
                    <h1>충전소 정보 수정</h1>
                </header>

                <!-- 수정 폼 -->
                <div class="form height-fixed">
                    <form class="request-form"
                          id="update-request"
                          th:action="@{/ev/evcharger/update/{id}(id=${charger.id})}"
                          method="post">

                        <!-- 설치일자 (읽기 전용) -->
                        <div class="form-field string required">
                            <label>설치일자</label>
                            <input type="text"
                                   name="installDate"
                                   th:value="${charger.installDate}"
                                   readonly
                                   style="background-color: #f5f5f5; cursor: not-allowed;">
                            <p class="field-hint">※ 수정할 수 없는 정보입니다.</p>
                        </div>

                        <!-- 충전소 번호 (읽기 전용) -->
                        <div class="form-field string required">
                            <label>충전소 번호</label>
                            <input type="text"
                                   name="stationNumber"
                                   th:value="${charger.stationNumber}"
                                   readonly
                                   style="background-color: #f5f5f5; cursor: not-allowed;">
                            <p class="field-hint">※ 수정할 수 없는 정보입니다.</p>
                        </div>

                        <!-- 설치주소 (수정 가능 + 다음 주소 API) -->
                        <div class="form-field string required">
                            <label>설치주소</label>
                            <input id="addressInput"
                                   name="installAddress"
                                   type="text"
                                   th:value="${charger.installAddress}"
                                   placeholder="클릭하여 주소를 검색하세요"
                                   onclick="sample4_execDaumPostcode();"
                                   readonly
                                   style="cursor: pointer;">
                        </div>

                        <!-- 특이사항 (수정 가능) -->
                        <div class="form-field text">
                            <label>특이사항</label>
                            <textarea name="chargerNote"
                                      th:text="${charger.chargerNote}"
                                      placeholder="특이사항을 입력하세요"></textarea>
                        </div>

                        <!-- 푸터: 취소/완료 버튼 -->
                        <footer>
                            <input class="btn-cancel"
                                   type="button"
                                   value="취소"
                                   th:onclick="|location.href='@{/ev/evcharger/detail/{id}(id=${charger.id})}'|">
                            <input class="btn-submit"
                                   type="submit"
                                   value="수정 완료">
                        </footer>
                    </form>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- 다음 주소 API -->
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script>
    function sample4_execDaumPostcode() {
        new daum.Postcode({
            oncomplete: function (data) {
                const roadAddr = data.roadAddress;
                document.getElementById("addressInput").value = roadAddr;
            }
        }).open();
    }
</script>
</body>
</html>