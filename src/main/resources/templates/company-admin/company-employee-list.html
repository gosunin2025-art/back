<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>기업 메인 - 임직원 관리 목록</title>
    <link rel="shortcut icon" href="https://wabiz-static-dev.s3.ap-northeast-2.amazonaws.com/static/favicon/favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="/css/common/font.css" />
    <link rel="stylesheet" href="/css/common/reset.css" />
    <link rel="stylesheet" href="/css/common/common.css">
    <link rel="stylesheet" href="/css/common/fontawesome.css">
    <link rel="stylesheet" href="/css/common/util.css" />
    <link rel="stylesheet" href="/css/company-admin/company-charger.css" />

    <link type="text/css" th:href="@{/css/company-admin/top.css}" rel="stylesheet" />
    <link type="text/css" th:href="@{/css/company-admin/menu-flex.css}" rel="stylesheet" />
</head>
<body>

<div th:replace="~{/company-admin/top::top}" style="margin-bottom: 20px;"></div>

<main class="board">
    <div class="ui-header">
        <h2 class="title">임직원 관리</h2>
    </div>

    <div class="segmented-tabs">
        <ul>
            <li class="active"><a href="#" onclick="goToList(); return false;">임직원 목록</a></li>
            <li><a href="#" onclick="goToRegister(); return false;">새 임직원 등록</a></li>
        </ul>
    </div>

    <div class="board-main">
        <ul>
            <li th:each="emp : ${employeeList}">
                <a th:href="@{/ev/company/emp/detail/{id}(id=${emp.id})}" class="article no-thumb">
                    <div class="info-box">
                        <div class="info-inner">
                            <h3 class="title" th:text="|[${emp.department}/${emp.position}] ${emp.employeeName} (${emp.employeeNumber})|">
                                [부서/직급] 이름 (사원번호)
                            </h3>
                            <p class="description" th:text="${emp.email}">이메일</p>
                            <span class="created-at" th:text="${emp.joinDate}">2026-02-15</span>
                        </div>
                    </div>
                </a>
            </li>
        </ul>
    </div>

    <div class="board-footer">
        <div class="pagination">
            <div class="page">
                <div class="desktop-only" style="display: flex; gap: 5px; align-items: center; justify-content: center;">

                    <!-- 이전 버튼 -->
                    <a th:if="${pagination.page > 1}"
                       th:href="@{/ev/company/emp/list/{page}(page=${pagination.page - 1})}"
                       style="display: inline-flex; align-items: center; justify-content: center; width: 32px; height: 32px; border: 1px solid #ddd; background: white; color: #333; text-decoration: none; border-radius: 4px; font-size: 18px;">
                        ‹
                    </a>
                    <span th:unless="${pagination.page > 1}"
                          style="display: inline-flex; align-items: center; justify-content: center; width: 32px; height: 32px; border: 1px solid #e5e5e5; background: #f9f9f9; color: #ccc; border-radius: 4px; font-size: 18px;">
                        ‹
                    </span>

                    <!-- 페이지 번호들 -->
                    <th:block th:each="i : ${#numbers.sequence(pagination.startPage, pagination.endPage)}">
                        <a th:href="@{/ev/company/emp/list/{page}(page=${i})}"
                           th:style="${i == pagination.page} ?
                               'display: inline-flex; align-items: center; justify-content: center; min-width: 32px; height: 32px; padding: 0 8px; background: #333; color: white; text-decoration: none; border-radius: 4px; font-weight: 500;' :
                               'display: inline-flex; align-items: center; justify-content: center; min-width: 32px; height: 32px; padding: 0 8px; border: 1px solid #ddd; background: white; color: #333; text-decoration: none; border-radius: 4px;'"
                           th:text="${i}">1</a>
                    </th:block>

                    <!-- 다음 버튼 -->
                    <a th:if="${pagination.page < pagination.realEnd}"
                       th:href="@{/ev/company/emp/list/{page}(page=${pagination.page + 1})}"
                       style="display: inline-flex; align-items: center; justify-content: center; width: 32px; height: 32px; border: 1px solid #ddd; background: white; color: #333; text-decoration: none; border-radius: 4px; font-size: 18px;">
                        ›
                    </a>
                    <span th:unless="${pagination.page < pagination.realEnd}"
                          style="display: inline-flex; align-items: center; justify-content: center; width: 32px; height: 32px; border: 1px solid #e5e5e5; background: #f9f9f9; color: #ccc; border-radius: 4px; font-size: 18px;">
                        ›
                    </span>

                </div>
            </div>
        </div>

        <!-- 검색 폼 -->
        <div class="search-box" style="margin-top: 30px; text-align: center;">
            <form th:action="@{/ev/company/emp/list/1}" method="get">
                <select name="searchType" style="padding: 8px;">
                    <option value="all" th:selected="${searchType == 'all' or searchType == null}">전체</option>
                    <option value="employeeName" th:selected="${searchType == 'employeeName'}">이름</option>
                    <option value="employeeNumber" th:selected="${searchType == 'employeeNumber'}">사원번호</option>
                    <option value="department" th:selected="${searchType == 'department'}">부서</option>
                </select>
                <input type="text"
                       name="keyword"
                       th:value="${keyword}"
                       placeholder="검색어를 입력하세요"
                       style="padding: 8px; width: 300px;"
                       required>
                <button type="submit" style="padding: 8px 20px; background: #00c4c4; color: white; border: none; cursor: pointer;">검색</button>
            </form>
        </div>

<!--        <div class="search">-->
<!--            <form id="employee-search" th:action="@{/ev/company/emp/search}" method="get">-->
<!--                <div class="filter-container">-->
<!--                    <select id="search-select-in-board" class="filter" name="searchType">-->
<!--                        <option value="all" th:selected="${searchType == 'all' or searchType == null}">전체</option>-->
<!--                        <option value="employeeName" th:selected="${searchType == 'employeeName'}">이름</option>-->
<!--                        <option value="employeeNumber" th:selected="${searchType == 'employeeNumber'}">사원번호</option>-->
<!--                        <option value="department" th:selected="${searchType == 'department'}">부서</option>-->
<!--                    </select>-->
<!--                </div>-->
<!--                <div class="field">-->
<!--                    <label class="text-hidden">검색창</label>-->
<!--                    <input type="text"-->
<!--                           id="search-text-in-board"-->
<!--                           class="search-form"-->
<!--                           name="keyword"-->
<!--                           th:value="${keyword}"-->
<!--                           placeholder="검색어를 입력하세요"-->
<!--                           required>-->
<!--                    <button class="btn-search dense" type="submit">검색</button>-->
<!--                </div>-->
<!--            </form>-->
<!--        </div>-->
    </div>
</main>

</body>

<script>
    function goToList() {
        location.href = '/ev/company/emp/list/1';
    }

    function goToRegister() {
        location.href = '/ev/company/write';
    }
</script>
</html>